<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AUTH-009: QR 코드 스캔 - EduForum</title>
  <link rel="stylesheet" href="../css/variables.css">
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/components.css">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="navbar">
      <a href="auth-008-2fa-setup.html" class="flex items-center gap-2 text-muted">
        <i data-lucide="arrow-left" class="icon-md"></i>
        2FA 설정
      </a>
    </nav>
  </header>

  <main class="container py-8" style="max-width: 500px;">
    <h1 class="text-2xl font-bold mb-2">인증 앱 설정</h1>
    <div class="separator my-4"></div>

    <!-- Step 1: QR Code -->
    <div class="mb-8">
      <div class="flex items-center gap-2 mb-4">
        <span class="flex items-center justify-center w-6 h-6 rounded-full text-xs font-medium" style="background: hsl(var(--brand-primary)); color: white;">1</span>
        <h2 class="font-semibold">QR 코드 스캔</h2>
      </div>

      <p class="text-sm text-muted mb-4">인증 앱에서 아래 QR 코드를 스캔하세요.</p>

      <!-- QR Code Placeholder -->
      <div class="flex justify-center mb-4">
        <div class="p-4 bg-white border rounded-lg">
          <svg width="160" height="160" viewBox="0 0 160 160">
            <!-- QR Code Pattern (simplified) -->
            <rect fill="#000" x="10" y="10" width="40" height="40"/>
            <rect fill="#fff" x="15" y="15" width="30" height="30"/>
            <rect fill="#000" x="20" y="20" width="20" height="20"/>

            <rect fill="#000" x="110" y="10" width="40" height="40"/>
            <rect fill="#fff" x="115" y="15" width="30" height="30"/>
            <rect fill="#000" x="120" y="20" width="20" height="20"/>

            <rect fill="#000" x="10" y="110" width="40" height="40"/>
            <rect fill="#fff" x="15" y="115" width="30" height="30"/>
            <rect fill="#000" x="20" y="120" width="20" height="20"/>

            <!-- Random pattern in middle -->
            <rect fill="#000" x="60" y="10" width="10" height="10"/>
            <rect fill="#000" x="80" y="10" width="10" height="10"/>
            <rect fill="#000" x="60" y="30" width="10" height="10"/>
            <rect fill="#000" x="70" y="40" width="10" height="10"/>
            <rect fill="#000" x="90" y="30" width="10" height="10"/>

            <rect fill="#000" x="10" y="60" width="10" height="10"/>
            <rect fill="#000" x="30" y="70" width="10" height="10"/>
            <rect fill="#000" x="40" y="80" width="10" height="10"/>

            <rect fill="#000" x="60" y="60" width="40" height="40"/>
            <rect fill="#fff" x="70" y="70" width="20" height="20"/>

            <rect fill="#000" x="110" y="60" width="10" height="10"/>
            <rect fill="#000" x="130" y="70" width="10" height="10"/>
            <rect fill="#000" x="140" y="80" width="10" height="10"/>

            <rect fill="#000" x="60" y="110" width="10" height="10"/>
            <rect fill="#000" x="80" y="120" width="10" height="10"/>
            <rect fill="#000" x="70" y="140" width="10" height="10"/>
            <rect fill="#000" x="90" y="130" width="10" height="10"/>

            <rect fill="#000" x="110" y="110" width="10" height="10"/>
            <rect fill="#000" x="130" y="120" width="10" height="10"/>
            <rect fill="#000" x="120" y="140" width="10" height="10"/>
          </svg>
        </div>
      </div>

      <!-- Manual Entry -->
      <details class="mb-4">
        <summary class="text-sm cursor-pointer text-primary flex items-center gap-1">
          <i data-lucide="chevron-down" class="icon-sm"></i>
          QR 코드를 스캔할 수 없나요? 설정 키 직접 입력
        </summary>
        <div class="mt-3">
          <div class="flex items-center gap-2">
            <input type="text" class="input" value="JBSWY3DPEHPK3PXP" readonly style="font-family: monospace;">
            <button class="btn btn-outline btn-icon" title="복사">
              <i data-lucide="copy" class="icon-sm"></i>
            </button>
          </div>
        </div>
      </details>
    </div>

    <div class="separator my-6"></div>

    <!-- Step 2: Enter Code -->
    <div>
      <div class="flex items-center gap-2 mb-4">
        <span class="flex items-center justify-center w-6 h-6 rounded-full text-xs font-medium" style="background: hsl(var(--brand-primary)); color: white;">2</span>
        <h2 class="font-semibold">인증 코드 입력</h2>
      </div>

      <p class="text-sm text-muted mb-4">앱에 표시되는 6자리 코드를 입력하세요.</p>

      <!-- OTP Input -->
      <div class="otp-input-group mb-6">
        <input type="text" class="otp-input" maxlength="1" value="1">
        <input type="text" class="otp-input" maxlength="1" value="2">
        <input type="text" class="otp-input" maxlength="1" value="3">
        <input type="text" class="otp-input" maxlength="1" value="4">
        <input type="text" class="otp-input" maxlength="1" value="5">
        <input type="text" class="otp-input" maxlength="1" value="6">
      </div>

      <button class="btn btn-primary w-full btn-lg">
        확인
      </button>
    </div>
  </main>

  <script>
    lucide.createIcons();

    // OTP input auto-focus
    const inputs = document.querySelectorAll('.otp-input');
    inputs.forEach((input, index) => {
      input.addEventListener('input', (e) => {
        if (e.target.value && index < inputs.length - 1) {
          inputs[index + 1].focus();
        }
      });
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && !e.target.value && index > 0) {
          inputs[index - 1].focus();
        }
      });
    });
  </script>
</body>
</html>
